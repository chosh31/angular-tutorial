<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Javascript filter &amp; sort test</title>
	<style>
		.container>h1{padding:0 0 20px 20px;border-bottom:1px double gray;clear:both;}

		.conLeft{float:left;width:20%;}
			.conLeft span{font-size:.85em;line-height:1em;}
			.conSort{margin-bottom:10px;}

		.conRight{float:right;width:80%;}
			.phones>li{line-height:1em;}
			.phones>li>span{font-weight:bold;}
	</style>
	<script>
	window.onload = function() {
		// Start sort function
		function sortFunc() {
			var arr2 = ['C',1,'c',3,'D','다',2,'b',4,'d','가','A','나','a','B'];
			var arrValue = document.getElementById('sortSelect').value;

			function outputAction() {
				document.getElementById('txt1').innerHTML = 'Select Value: ' + arrValue + '<br/>Result: ' + arr2;
			}

			if (Number(arrValue) == 1) {
				arr2.sort();

				outputAction();
				// alert(arrValue);
			} else {
				arr2.sort();
				arr2.reverse();

				outputAction();
				// alert(arrValue);
			}
		}

		sortFunc();

		document.getElementById('sortSelect').addEventListener('change', function() {
			sortFunc();
		});
		// End sort function

		// Start filter function
		function filterFunc() {
			//input value save into variable
			var keyWords = document.getElementById('search').value;

			//list length count test
			var phonesList = document.getElementById('phones');
			var total = phonesList.getElementsByTagName('li').length;

			//phone name arrays
			var arr = phonesList.getElementsByTagName('li');

			//btn click event test
			//document.getElementById('txt2').innerHTML = 'KeyWord: ' + document.getElementById('search').value;

			outputAction();

			//var tempArr = [];
			var a = 0;
			for (var i = 0;i < total;i++) {
				//tempArr.push(arr[i].innerHTML);
				if (arr[i].innerHTML.indexOf(keyWords) !== -1) {
					a++;

					arr[i].style.display = 'list-item';
				} else {
					arr[i].style.display = 'none';
				}
			}
	 
			//console.log(tempArr);
			//var a = tempArr.indexOf(keyWords);

			function outputAction() {
				document.getElementById('txt2').innerHTML = 'KeyWord: ' + keyWords + '<br/>total: ' + total + '<br/>Count: ' + a;
			}

			//The resulting output
			if (!keyWords || keyWords == ' ') {
				keyWords = 'Null';

				outputAction();
			} else {
				outputAction();
			}
		}

		// Filter case 1. Event == change -> Operates to press the Enter key
		// document.getElementById('search').addEventListener('change', function() {
		// 	filterFunc();
		// });

		// Filter case 2. Event == keyup -> Real-time operation to the input value
		document.getElementById('search').addEventListener('keyup', function() {
			filterFunc();
		});
		// End filter function
	};
	</script>
</head>
<body>
<div class="container">
	<!-- Title -->
	<h1>Javascript filter &amp; sort test</h1>

	<!--Sidebar content-->
	<div class="conLeft">

		<!-- Sort Select -->
		<div class="conSort">
			<span>정렬 : </span>
			<select id="sortSelect">
				<option value="1">내림차순</option>
				<option value="2">오름차순</option>
			</select>
			<p id="txt1"></p>
		</div>

		<!-- Search input -->
		<div class="conSearch">
			<span>검색 : </span>
			<input type="text" id="search" /> <!-- <button onclick="filterFunc()">Search</button> -->
			<p id="txt2"></p>
		</div>
	</div>
	<div class="conRight">
		<!--Body content-->
		<ul id="phones" class="phones">
			<li>
				<span>Nexus S</span>
				<p>Fast just got faster with Nexus S.</p>
			</li>
			<li>
				<span>Motorola XOOM™ with Wi-Fi</span>
				<p>The Next, Next Generation tablet.</p>
			</li>
			<li>
				<span>MOTOROLA XOOM™</span>
				<p>The Next, Next Generation tablet.</p>
			</li>
			<li>
				<span>Motorola XOOM™ with Wi-Fi</span>
				<p>The Next, Next Generation<br/>Experience the future with Motorola XOOM with Wi-Fi, the world's first tablet powered by Android 3.0 (Honeycomb).</p>
			</li>
			<li>
				<span>MOTOROLA XOOM™</span>
				<p>The Next, Next Generation Experience the future with MOTOROLA XOOM, the world's first tablet powered by Android 3.0 (Honeycomb).</p>
			</li>
			<li>
				<span>MOTOROLA ATRIX™ 4G</span>
				<p>MOTOROLA ATRIX 4G the world's most powerful smartphone.</p>
			</li>
			<li>
				<span>Dell Streak 7</span>
				<p>Introducing Dell™ Streak 7. Share photos, videos and movies together. It’s small enough to carry around, big enough to gather around.</p>
			</li>
			<li>
				<span>Samsung Gem™</span>
				<p>The Samsung Gem™ brings you everything that you would expect and more from a touch display smart phone – more apps, more features and a more affordable price.</p>
			</li>
			<li>
				<span>Dell Venue</span>
				<p>The Dell Venue; Your Personal Express Lane to Everything</p>
			</li>
			<li>
				<span>Nexus S</span>
				<p>Fast just got faster with Nexus S. A pure Google experience, Nexus S is the first phone to run Gingerbread (Android 2.3), the fastest version of Android yet.</p>
			</li>
			<li>
				<span>LG Axis</span>
				<p>Android Powered, Google Maps Navigation, 5 Customizable Home Screens</p>
			</li>
			<li>
				<span>Samsung Galaxy Tab™</span>
				<p>Feel Free to Tab™. The Samsung Galaxy Tab™ brings you an ultra-mobile entertainment experience through its 7” display, high-power processor and Adobe® Flash® Player compatibility.</p>
			</li>
			<li>
				<span>Samsung Showcase™ a Galaxy S™ phone</span>
				<p>The Samsung Showcase™ delivers a cinema quality experience like you’ve never seen before. Its innovative 4” touch display technology provides rich picture brilliance, even outdoors</p>
			</li>
			<li>
				<span>DROID™ 2 Global by Motorola</span>
				<p>The first smartphone with a 1.2 GHz processor and global capabilities.</p>
			</li>
		</ul>
	</div>
</div>

</body>
</html>